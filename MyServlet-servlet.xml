<?xml version="1.0" encoding="UTF-8"?>
<beans
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns="http://www.springframework.org/schema/beans"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context-3.0.xsd
                           http://www.springframework.org/schema/tx
                           http://www.springframework.org/schema/tx/spring-tx-3.0.xsd"
	default-lazy-init="true">

	<bean id="urlMapping"
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="mappings">
			<props>
				<prop key="/test/*.test">controller</prop>
				<prop key="/paciente/*.test">controllerPaciente</prop>
				<prop key="/ubicacion/*.test">controllerUbicacion</prop>
				<prop key="/centro/*.test">controllerCentro</prop>
				
			</props>
		</property>
	</bean>

	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.XmlViewResolver">
		<property name="location">
			<value>/WEB-INF/MyViews.xml</value>
		</property>
	</bean>

	<bean id="controller"
		class="org.springframework.web.servlet.mvc.multiaction.MultiActionController">
		<property name="methodNameResolver">
			<ref bean="MyMethodNameResolver" />
		</property>
		<property name="delegate">
			<ref bean="generalController" />
		</property>
	</bean>

	<bean id="controllerPaciente"
		class="org.springframework.web.servlet.mvc.multiaction.MultiActionController">
		<property name="methodNameResolver">
			<ref bean="PacienteNameResolver" />
		</property>
		<property name="delegate">
			<ref bean="pacienteController" />
		</property>
	</bean>

	<bean id="controllerUbicacion"
		class="org.springframework.web.servlet.mvc.multiaction.MultiActionController">
		<property name="methodNameResolver">
			<ref bean="UbicacionNameResolver" />
		</property>
		<property name="delegate">
			<ref bean="ubicacionController" />
		</property>
	</bean>

	<bean id="controllerCentro"
		class="org.springframework.web.servlet.mvc.multiaction.MultiActionController">
		<property name="methodNameResolver">
			<ref bean="CentroNameResolver" />
		</property>
		<property name="delegate">
			<ref bean="centroController" />
		</property>
	</bean>

	<bean id="MyMethodNameResolver"
		class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
		<property name="mappings">
			<props>
				<prop key="/test/agendaUrgencias.test">agendaUrgencias</prop>
			</props>
		</property>
	</bean>

	<bean id="PacienteNameResolver"
		class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
		<property name="mappings">
			<props>
				<prop key="/paciente/getPacientes.test">getPacientes</prop>
				<prop key="/paciente/addPaciente.test">addPaciente</prop>
				<prop key="/paciente/editPaciente.test">editPaciente</prop>
				<prop key="/paciente/deletePaciente.test">deletePaciente</prop>
				<prop key="/paciente/getPacientesFiltrado.test">getPacientesFiltrado</prop>
			</props>
		</property>
	</bean>

	<bean id="UbicacionNameResolver"
		class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
		<property name="mappings">
			<props>
				<prop key="/ubicacion/getUbicaciones.test">getUbicaciones</prop>
				<prop key="/ubicacion/addUbicacion.test">addUbicacion</prop>
				<prop key="/ubicacion/editUbicacion.test">editUbicacion</prop>
				<prop key="/ubicacion/deleteUbicacion.test">deleteUbicacion</prop>
				<prop key="/ubicacion/getUbicacionesFiltrado.test">getUbicacionesFiltrado</prop>
			</props>
		</property>
	</bean>

	<bean id="CentroNameResolver"
		class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
		<property name="mappings">
			<props>
				<prop key="/centro/getCentros.test">getCentros</prop>
				<prop key="/centro/addCentro.test">addCentro</prop>
				<prop key="/centro/editCentro.test">editCentro</prop>
				<prop key="/centro/deleteCentro.test">deleteCentro</prop>
				<prop key="/centro/getCentrosFiltrado.test">getCentrosFiltrado</prop>
			</props>
		</property>
	</bean>

	<bean id="generalController"
		class="com.hphis.controller.GeneralController">
		<property name="checkService">
			<ref bean="checkService" />
		</property>
	</bean>

	<bean id="pacienteController"
		class="com.hphis.controller.PacienteController">
		<property name="pacienteService">
			<ref bean="pacienteService" />
		</property>
	</bean>

	<bean id="ubicacionController"
		class="com.hphis.controller.UbicacionController">
		<property name="ubicacionService">
			<ref bean="ubicacionService" />
		</property>
	</bean>

	<bean id="centroController"
		class="com.hphis.controller.CentroController">
		<property name="centroService">
			<ref bean="centroService" />
		</property>
	</bean>

	<bean id="checkService"
		class="com.hphis.service.impl.CheckServiceImpl">
		<property name="checkDao">
			<ref bean="checkDao" />
		</property>
	</bean>

	<bean id="checkDao" class="com.hphis.dao.impl.CheckDaoImpl" />

	<bean id="pacienteService"
		class="com.hphis.service.impl.PacienteServiceImpl">
		<property name="pacienteDao">
			<ref bean="pacienteDao" />
		</property>
	</bean>

	<bean id="ubicacionService"
		class="com.hphis.service.impl.UbicacionServiceImpl">
		<property name="ubicacionDao">
			<ref bean="ubicacionDao" />
		</property>
	</bean>
	
	<bean id="centroService"
		class="com.hphis.service.impl.CentroServiceImpl">
		<property name="centroDao">
			<ref bean="centroDao" />
		</property>
	</bean>

	<bean id="pacienteDao" class="com.hphis.dao.impl.PacienteDaoImpl" />
	<bean id="ubicacionDao" class="com.hphis.dao.impl.UbicacionDaoImpl" />
	<bean id="centroDao" class="com.hphis.dao.impl.CentroDaoImpl" />

</beans>